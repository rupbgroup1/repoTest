<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="../Scripts/ajaxCalls.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"></script>

    <script>

        $(document).ready(function () {
            // getCIty();
            //postNewUser();
            //getUser();
            //getUserByI();
            //getInterests();
            //GETI();
            // put();
            // getMatch();
            // getParam();
            //putParam();
            // updateUserVotes();
            //startTimer();
            //putPass();
            //getEvents();
            postEvent();
            //getMyEvents();
            //getAtt();
            //getCat();
            //DeleteEventAtt();
            //putEvent();
            //postEvent();
            //getMyService();
            //insertService();
            //getMyLosts();
            //postNewLost();
            //updatelost();
            //updateRate();
            //GetToken();
            //getRecommendedEvents()

        });

        function getRecommendedEvents() {
            ajaxCall("Get", "../api/Events/Recommended/1/תל מונד", "", succ2, err2);
        }
        function GetToken() {
            ajaxCall("Get", "../api/User/Token?userId=138", "", succ2, err2);
        }
        function updateRate() {
            ajaxCall("PUT", "../api/Services/UpdateRate/4/1", JSON.stringify(lost), succ2, err2);
        }
        function updatelost() {
            let lost = {
                "Description": "וי",
                "FoundDate": "6/17/2020 12:00:00 AM",
                "Id": 4,
                "ImageId": "",
                "Location": "ייי",
                "NeighboorhoodName": null,
                "Status": true,
                "Title": "טיו",
                "WhoFound": 1,
            }
        }
        function postNewLost() {
            let lost = {
                Title: "נמצאו אופנייים ורודות",
                Description: "נמצאו ברחוב הציפורים ליד גן השחף ביום שישי בשעה אחת",
                Location:"גן השחף",
                FoundDate: "2020-05-21",
                Status: "False",
                WhoFound: 1,
                NeighboorhoodName:"תל מונד"
            }
            ajaxCall("POST", "../api/Losts/New", JSON.stringify(lost), succ2, err2);
        }
        function insertService() {
            let service = {
                    "Categories": 2,
                    "Description": "טסט",
                    "NeighborhoodId": "תל מונד",
                    "OpenDays": "א-ה",
                    "OpenHoursEnds": "11:30",
                    "OpenHoursStart": "12:30",
                    "Owner": 26,
                    "ServiceName": "טסט"
            }
            ajaxCall("POST", "../api/Services/New", JSON.stringify(service), succ2, err2);
        }
        function postEvent() {
            let event = {
                "CategoryId": 2,
                "Desc": "טירוף",
                "FromAge": "2",
                "Name": "מסיבה ",
                "NumOfParticipants": "100",
                "Price": "100",
                "StartDate": "2020-05-25T09:33:46.038Z",
                "StartHour": "2020-05-21T15:33:49.121Z",
                "EndDate": "2020-05-25T09:33:46.038Z",
                "EndHour": "2020-05-21T15:33:49.121Z",
                "ToAge": "10",
                "OpenedBy": 1,
                "NeiCode": 'תל מונד',
                "Lat": 32.25805,
                "Lan": 34.923285,
                "Location": "מתנס כפר הס",
                "Intrests": [
                    { "id": 1 },
                    { "id": 2 },
                    { "id": 3 }
                ]

            }
            ajaxCall("POST", "../api/Events/New", JSON.stringify(event), succ2, err2);
        }

        function putEvent() {
            let event = {
                "CategoryId": 1,
                "Desc": "תחממו גרונות כי הולך להיות ערב מטורףףף, הירשמו ובחרו שירים מראש",
                "EndDate": "2020-04-16T12:00:00",
                "EndHour": "2020-04-16T12:00:00",
                "FromAge": 18,
                "Id": 1,
                "Image": "https://media.gettyimages.com/photos/colorful-powder-explosion-in-all-directions-in-a-nice-composition-picture-id890147976?s=612x612",
                "Lan": 34.92055842652917,
                "Lat": 32.25394820202541,
                "Location": "הדקל 64, תל מונד, ישראל",
                "Name": "ערב קריוקי",
                "NeiCode": "תל מונד",
                "NumOfParticipants": 500,
                "OpenedBy": 1,
                "Price": 60,
                "StartDate": "2020-04-16T12:00:00",
                "StartHour": "2020-04-16T12:00:00",
                "ToAge": 25,
            }
            ajaxCall("PUT", "../api/Events/Update", JSON.stringify(event), succ2, err2);
        }

        function DeleteEventAtt() {
            let att = {
                Id: 1,
                Attandance: [{ UserId: 61 }]
            }
            ajaxCall("DELETE", "../api/Events/DeleteAtt", JSON.stringify(att), succ2, err2);
        }
        
        function getMyService() {

            ajaxCall("GET", "../api/Services/All?neiName=תל מונד", "", succ3, err3);
        }
        
        function getMyLosts() {

            ajaxCall("GET", "../api/Losts/My?userId=1", "", succ3, err3);
        }

        function getCat() {

            ajaxCall("GET", "../api/SubCategory/All", "", succ3, err3);
        }

        function getEvents() {

            ajaxCall("GET", "../api/Events/All/1/תל מונד", "", succ3, err3);
        }
        function getMyEvents() {

            ajaxCall("GET", "../api/Events/My?userId=1", "", succ3, err3);
        }

        //change to start!!!
        function startTimer() {
            ajaxCall("GET", "../api/Timer/start", "", succ2, err2);
        }

        function updateUserVotes() {
            ajaxCall("PUT", "../api/Votes/Update", "", succ2, err2);
        }

        function getUserByI() {

            ajaxCall("GET", "../api/Neighboors/Intrest/תל מונד/34", "", succ3, err3);
        }
        function getParam() {

            ajaxCall("GET", "../api/Param", "", succ3, err3);
        }
        //function getUser() {
        //    searchKeys = {
        //        Email: "test@gmail.com",
        //        Password: "111111", 
        //        Token:'ExponentPushToken[cQYyeHDo4l_zVTPLg5aq-w]'
        //    }
        //    ajaxCall("POST", "../api/User/login", JSON.stringify(searchKeys), succ2, err2);
        //}
        function getUser() {
            searchKeys = {
                UserId:33
            }
            ajaxCall("POST", "../api/User/login", JSON.stringify(searchKeys), succ2, err2);
        }
        function getMatch() {
            ajaxCall("GET", "../api/Neighboors/Match?userId=1", "", succ3, err3);
        }

        function put() {
            searchKeys = {
                UserId: 48,
                JobTitleId: 23,
                WorkPlace: "חיפה",
                FamilyStatus: "רווק/ה",
                NumOfChildren: 2,
                AboutMe: "להלהלה",
                Kids: [{ Id: 48, YearOfBirth: 2019 }],
                Intrests: [{ Id: 78 }, { Id: 56 }, { Id: 7 }]
            }
            ajaxCall("PUT", "../api/User/Extra", JSON.stringify(searchKeys), succ2, err2);
        }

        function putParam() {
            let param = {
                "CategoryId": 1
            }
            ajaxCall("PUT", "../api/Votes", JSON.stringify(param), succ2, err2);
        }

        function putPass() {
            let user = {
                "Email": "Bgroup1@test.com",
                "Password": "123123"
            }
            ajaxCall("PUT", "../api/User/Pass", JSON.stringify(user), succ2, err2);
        }

        function getInterests() {
            ajaxCall("GET", "../api/Intrests", "", succ2, err2);
        }

        function GETI() {
            ajaxCall("GET", "../api/Intrests/Sub?mainI=ספורט", "", succ2, err2);
        }

        function succ3(data) {
            console.log(data);
        }
        function err3(data) {
            console.log(data);
        }
        function getCIty() {
            ajaxCall("GET", "../api/City", "", succ2, err2);
        }

        function succ2(data) {
            console.log(data);
        }
        function err2(data) {
            console.log(data);
        }
        function postNewUser() {
            let newUser = {
                "CityName": "test",
                "Email": "Bgroup21@test.com",
                "FirstName": "גק",
                "Gender": 2,
                "ImagePath": "https://cdn1.iconfinder.com/data/icons/business-users/512/circle-512.png",
                "Lan": 34.919683523476124,
                "LastName": "שפרד",
                "Lat": 32.257277338516821,
                "NeighborhoodName": "test",
                "Password": "123456",
                "YearOfBirth": "1981",

            }
            ajaxCall("POST", "../api/User", JSON.stringify(newUser), successPost, errorPost);
        }
        function successPost(data) {
            console.log(data);
        }
        function errorPost(data) {
            console.log(data);
        }
    </script>


</head>
<body>
    <p>Commy</p>
</body>
</html>